---
description: Persistence Linux - Cheatsheet
---

# Persistence Linux

1. <mark style="color:yellow;">Méthode SSH Key (Récupération de la clé privée) :</mark>
   * Sur la machine compromise :
     * Naviguez vers le répertoire \~/.ssh où les clés SSH sont généralement stockées.
     * Copiez le contenu de la clé privée (id\_rsa) dans un fichier texte.
   * <mark style="color:yellow;">Sur la machine de l'attaquant :</mark>
     * Créez un nouveau fichier pour la clé privée, par exemple "private\_key".
     * Collez le contenu de la clé privée dans ce fichier et enregistrez-le.
     * Assurez-vous que les permissions du fichier sont correctes : `chmod 600 private_key`.
     * Utilisez la clé privée pour vous connecter au système cible : `ssh -i private_key user@serveur_compromis`.
2. <mark style="color:yellow;">Méthode Cron Job :</mark>
   * Éditez les tâches cron de l'utilisateur actuel : crontab -e
   *   Ajoutez une nouvelle ligne pour exécuter votre script à intervalle régulier :

       &#x20;\* \* \* \* \* /chemin/vers/mon\_script.sh
   * Vérifiez la liste des tâches cron : `crontab -l`
3. <mark style="color:yellow;">Script dans rc.local :</mark>
   * Éditez le fichier /etc/rc.local en tant qu'administrateur (sudo) : `sudo nano /etc/rc.local`
   * Ajoutez le chemin absolu du script que vous souhaitez exécuter au démarrage avant la ligne "exit 0".
   * Assurez-vous que le script est exécutable (chmod +x \<nom\_du\_script>).
